{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.0.1/remixicon.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Trirong"
    />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>The Social Street</title>
  </head>
  <body>
    <div class="overlay-box">
      <div id="myModal" class="modal">
        <!-- Modal content -->

        <div class="modal-content">
          <div id="displayText">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="modal-header">
              <div><h3>Verify your Mobile number</h3></div>
            </div>
            <form id="otpForm">
              <div class="form-group">
                <!-- <h6>Enter the verification code sent to</h6> -->
                <p id="userDetails"></p>
                <input
                  type="text"
                  class="form-control otp-css"
                  placeholder="Enter Your Four Digit OTP"
                  id="otp"
                  name="otp"
                  pattern="[0-4]*"
                  maxlength="4"
                  oninput="this.value = this.value.replace(/[^0-4]/g, '');"
                  required
                />
              </div>
              <div class="timer-class">
                <div id="timer">Resend OTP</div>
              </div>
            </form>
            <button
              type="button"
              class="btn btn-primary btn-Verify"
              onclick="displayText()"
            >
              Verify OTP
            </button>
          </div>
        </div>
      </div>
      <div class="container-fluid">
        <div class="myclass">
          <div class="my-position-css">
            <img
              src="{% static 'img/The_social_street-removebg-preview.png' %}"
              alt="logo"
              class="header-img"
            />
          </div>
          <div class="container-my-class">
            <div class="top-heading-name">
              <h1 class="heading-style">Welcome To The Social Street</h1>
            </div>

            <form
              method="post"
              id="myForm"
              class="row g-3"
              action="{% url 'contact_view' %}"
            >
              {% csrf_token %}
              <div class="col-md-6 col-12 d-flex">
                <input
                  type="text"
                  class="form-control required"
                  id="first_name"
                  placeholder="First Name"
                  name="first_name"
                  required
                />
                <span class="astric">*</span>
              </div>
              <div class="col-md-6 d-flex">
                <input
                  type="text"
                  class="form-control"
                  id="inputPassword4"
                  placeholder="Last Name"
                  name="last_name"
                  required
                />
                <span class="astric">*</span>
              </div>

              <div class="col-md-6 d-flex">
                <input
                  type="text"
                  class="form-control required"
                  id="mobile-no"
                  placeholder="Mobile Number"
                  name="mobile_number"
                  required
                />
                <span class="astric">*</span>
              </div>
              <div class="col-md-6 d-flex">
                <input
                  type="email"
                  class="form-control"
                  id="inputEmail"
                  placeholder="Email  (Optional)"
                  name="email"
                />
                <span class="astric-none"></span>
              </div>
              <div class="col-md-12 text-start">
                <label class="visit-css">Visiting :</label>
              </div>
              <input type="hidden" name="selected_office" id="selectedOffice" />
              <div class="col-md-4 mobile-text">
                <button
                  type="button"
                  class="btn btn-primary my-class-css d-flex align-items-center"
                  id="officeButton"
                  onclick="toggleButtons('abcButtons', 'xyzButtons', 'officeButton', 'restaurantButton')"
                >
                  <span><i class="ri-briefcase-4-fill icon-space"></i></span>
                  <span
                    class="flex-grow-1 text-center"
                    id="officeText"
                    name="officeText"
                    value="Office"
                    >Office</span
                  >
                </button>
              </div>
              <input type="hidden" name="selected_restrorant" id="restrorant" />
              <div class="col-md-4 mobile-text">
                <button
                  type="button"
                  class="btn btn-primary my-class-css d-flex align-items-center"
                  id="restaurantButton"
                  onclick="toggleButtons('xyzButtons', 'abcButtons', 'restaurantButton', 'officeButton'); setrestrorantValue('restrorant')"
                >
                  <span><i class="ri-restaurant-fill icon-space"></i></span>
                  <span
                    class="flex-grow-1 text-center"
                    id="restrorantText"
                    name="restrorantText"
                    value="restrorant"
                    >Restaurants</span
                  >
                </button>
              </div>

              <input
                type="hidden"
                name="number_of_people"
                id="hiddenPeopleCounter"
                value="0"
              />
              <div
                class="col-md-4 mobile-text"
                id="GroupCount"
                style="display: none"
              >
                <span
                  class="btn btn-primary my-class-css-people dropdown"
                  id="peopleButton"
                  onclick="toggleDropdown()"
                >
                  <span id="people_style" class="d-flex align-items-center">
                    <span><i class="ri-team-fill icon-space"></i></span>
                    <span class="flex-grow-1 text-center">Group Count</span>
                    <span id="dropdown-count"></span>
                    <span class="dropdown-toggle"> </span>
                  </span>
                  <div class="dropdown-content" id="dropdownContent">
                    <!-- Initial set of dropdown items -->
                    <a href="#" onclick="selectDropdownItem(1)">1</a>
                    <a href="#" onclick="selectDropdownItem(2)">2</a>
                    <a href="#" onclick="selectDropdownItem(3)">3</a>
                    <a href="#" onclick="selectDropdownItem(4)">4</a>
                    <a href="#" onclick="selectDropdownItem(5)">5</a>
                    <a href="#" onclick="selectDropdownItem(6)">6</a>
                    <a href="#" onclick="selectDropdownItem(7)">7</a>
                    <a href="#" onclick="selectDropdownItem(8)">8</a>
                    <a href="#" onclick="selectDropdownItem(9)">9</a>
                    <a href="#" onclick="selectDropdownItem(10)">10</a>
                    <a href="#" onclick="selectDropdownItem(11)">11</a>
                    <a href="#" onclick="selectDropdownItem(12)">12</a>
                    <a href="#" onclick="selectDropdownItem(13)">13</a>
                    <a href="#" onclick="selectDropdownItem(14)">14</a>
                    <a href="#" onclick="selectDropdownItem(15)">15</a>
                    <a href="#" onclick="selectDropdownItem(16)">16</a>
                    <a href="#" onclick="selectDropdownItem(17)">17</a>
                    <a href="#" onclick="selectDropdownItem(18)">18</a>
                    <a href="#" onclick="selectDropdownItem(19)">19</a>
                    <a href="#" onclick="selectDropdownItem(20)">20</a>
                  </div>
                </span>
              </div>
              <input type="hidden" name="purpose_desc" id="purposeDesc" />
              <div class="col-md-12" id="abcButtons" style="display: none">
                <div>
                  <div class="row d-flex">
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        Aicence IT Solutions
                        <span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        Easebuzz Solutions
                        <span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        Lear Solutions
                        <span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        Affluent Technology
                        <span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="col-md-12"
                id="xyzButtons"
                style="display: none; width: 100%"
              >
                <div>
                  <div class="row mobile-grid">
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        Kiro
                        <span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        HOB<span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        Local Gastro
                        <span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                    <div class="col-md-3">
                      <button
                        type="button"
                        class="tabs-button my-class-css"
                        onclick="changeStyleFun(this)"
                      >
                        Quality Restaurants
                        <span class="my-span" style="display: none"
                          ><i class="ri-check-line"></i
                        ></span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-12 text-center">
                <!-- <button type="submit" id="myBtn" onclick="submitForm()"  class="submit-btn">Submit</button> -->
                <button
                  type="submit"
                  id="myBtn"
                  class="submit-btn"
                  onclick="submitForm()"
                >
                  Submit
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        // ...
        function submitForm() {
          // Trigger the form submission
          document.getElementById("myForm").submit();
        }
        // ...
      });
    </script>
    <!-- <script>
      function toggleButtons(showId, hideId) {
        var showElement = document.getElementById(showId);
        var hideElement = document.getElementById(hideId);

        if (showElement.style.display === "none") {
          showElement.style.display = "block";
          hideElement.style.display = "none";
        } else {
          showElement.style.display = "none";
          hideElement.style.display = "none";
        }
      }
    </script> -->

    <script>
      $(document).ready(function () {
        var selectedOfficeValue = $("#selectedOffice").val();
        var restrorantValue = $("#restrorant").val();
        var purposeDescValue = $("#purposeDesc").val();
        // Office button click event
        $("#officeText").click(function () {
          var office = $(this).text();
          $("#selectedOffice").val(office);
          $("#purposeDesc").val(purposeDesc);
          alert("Button value: " + Office);
        });

        $(".tabs-button").click(function () {
          var selectedCompany = $(this).text();
          // Update purpose_desc based on the selected company
          switch (selectedCompany) {
            case "Aicence IT Solutions":
              purposeDesc = "Aicence IT Solutions";
              break;
            case "Lear Solutions":
              purposeDesc = "Lear Solutions";
              break;
            // Add more cases for other companies as needed
          }
          $("#purposeDesc").val(purposeDesc); // Set purpose_desc value
        });

        // restrorant button click event
        $("#restrorantText").click(function () {
          // this id is button id
          var restrorant = $(this).text();
          $("#restrorant").val(restrorant); // this is the input value stored
          //  alert("Button value: " + restrorant);
        });

        // dropdown selector value
        $("#peopleButton").click(function () {
          var peopleCounter = $("#peopleCounter").text();
          //  alert("People Count: " + peopleCounter);
        });

        //destination
        $("#restrorantText").click(function () {
          // this id is button id
          var restrorant = $(this).text();
          $("#restrorant").val(restrorant); // this is the input value stored
          alert("Button value: " + restrorant);
        });
      });

      function submitForm() {
        // Trigger the form submission
        document.getElementById("myForm").submit();
      }

      function toggleButtons(
        showId,
        hideId,
        activateButtonId,
        deactivateButtonId
      ) {
        showId, hideId, activateButtonId, deactivateButtonId;
        var showElement = document.getElementById(showId);
        var hideElement = document.getElementById(hideId);

        // Check if the showElement is currently visible
        var isVisible = showElement.style.display !== "none";

        // Toggle visibility only if it was hidden
        if (!isVisible) {
          showElement.style.display = "block";
          hideElement.style.display = "none";

          // Toggle 'active' class
          var activateButton = document.getElementById(activateButtonId);
          var deactivateButton = document.getElementById(deactivateButtonId);

          activateButton.classList.add("active");
          deactivateButton.classList.remove("active");

          // Check if the activate button is the restaurant button
          if (activateButtonId === "restaurantButton") {
            var groupCountElement = document.getElementById("GroupCount");
            groupCountElement.style.display = "block";
          } else {
            // If the activate button is not the restaurant button, hide the GroupCount
            var groupCountElement = document.getElementById("GroupCount");
            groupCountElement.style.display = "none";
          }
        }
      }
    </script>
    <script>
      // Initialize the counter value
      var currentCount = 0;
      function updateCounter(value) {
        currentCount += value;
        if (currentCount < 0) {
          currentCount = 0;
        }
        var peopleCounter = document.getElementById("peopleCounter");
        peopleCounter.innerText = currentCount;
      }
    </script>
    <script>
      function changeStyleFun(button) {
        // Hide all spans with class 'my-span'
        var allSpans = document.querySelectorAll(".my-span");
        var btnClass = document.querySelector("#my-class-css");
        allSpans.forEach(function (span) {
          span.style.display = "none";
        });

        // Show the span inside the clicked button
        var span = button.querySelector(".my-span");
        span.style.display = "block";
      }
    </script>
    <!-- <script>
var modal = document.getElementById("myModal");
var btn = document.getElementById("myBtn");
var span = document.getElementsByClassName("close")[0];

btn.onclick = function() {
modal.style.display = "block";
startTimer();
}

span.onclick = function() {
closeModal();
}

window.onclick = function(event) {
if (event.target == modal) {
closeModal();
}
}

var seconds = 60;
var timerInterval;

function startTimer() {
timerInterval = setInterval(function() {
if (seconds > 0) {
  seconds--;
  document.getElementById('timer').innerText = 'Time remaining: ' + seconds + ' seconds';
} else {
  clearInterval(timerInterval);
  document.getElementById('timer').innerText = 'Resend OTP';
  document.getElementById('resendOtp').disabled = false;
}
}, 1000);
}

function resendOtp() {
seconds = 60;
document.getElementById('timer').innerText = 'Time remaining: ' + seconds + ' seconds';
document.getElementById('resendOtp').disabled = true;

// Simulate sending a new OTP (you may replace this with your actual logic)
// For demo purposes, let's just log a message
console.log('Resending OTP...');
}

function verifyOtp() {
// Add your OTP verification logic here
// For demo purposes, let's just log a message
console.log('Verifying OTP...');
}

function closeModal() {
clearInterval(timerInterval);
var closeConfirmation = confirm("Are you sure you want to close the modal?");
if (closeConfirmation) {
modal.style.display = "none";
} else {
// Resume the timer if the user chooses not to close
startTimer();
}
}

</script> -->

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
      var modal = document.getElementById("myModal");
      var seconds = 60;
      var timerInterval;

      function startTimer() {
        timerInterval = setInterval(function () {
          if (seconds > 0) {
            seconds--;
            document.getElementById("timer").innerText =
              "Resend OTP " + seconds + "s";
          } else {
            clearInterval(timerInterval);
            document.getElementById("timer").innerText = "Resend OTP";
            document.getElementById("resendOtp").disabled = false;
          }
        }, 1000);
      }

      function resendOtp() {
        // Reset the timer
        seconds = 60;
        document.getElementById("timer").innerText =
          "Time remaining: " + seconds + " seconds";
        document.getElementById("resendOtp").disabled = true;
        // Restart the timer
        startTimer();
        console.log("Resending OTP...");
      }

      function verifyOtp() {
        console.log("Verifying OTP...");
      }

      function closeModal() {
        clearInterval(timerInterval);
        modal.style.display = "none";
      }

      function submitForm() {
        // You may include your form submission logic here
        // For demo purposes, let's just open the modal
        modal.style.display = "block";
        // Update the user details
        document.getElementById("userDetails").innerText =
          "Enter the verification code sent to: " +
          document.getElementById("mobile-no").value;
        // Start the timer
        startTimer();
      }
    </script>

    <script>
      function toggleDropdown() {
        var dropdownContent = document.getElementById("dropdownContent");
        dropdownContent.style.display =
          dropdownContent.style.display === "block" ? "none" : "block";
      }

      function updateCounter(value) {
        var peopleCounter = document.getElementById("peopleCounter");
        var count = parseInt(peopleCounter.innerText) + value;
        peopleCounter.innerText = count;

        // Update the dropdown count
        var dropdownCount = document.getElementById("dropdown-count");
        dropdownCount.innerText = " (" + count + ")";
      }

      function selectDropdownItem(option) {
        // Handle the selection of dropdown items
        var dropdownCount = document.getElementById("dropdown-count");
        dropdownCount.innerText = " (" + option + ")";
      }
    </script>
    <script>
      function displayText() {
        // Get the element where you want to display text
        var displayElement = document.getElementById("displayText");

        // Set the text to be displayed
        displayElement.innerHTML =
          '<div class="centered-text"><div class="success-text"></div> <h6>User has been verified successfully</h6></div>';
      }
    </script>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
